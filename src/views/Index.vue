<template>
  <div class="wrapper">
    <Row>
      <i-col class="border left" span="8">
        <form-item-engine :config="config" :rules="rules" :model="formValues">
          <div slot="append" class="submit-item">
            <Button type="primary" @on-click="showResultModal = true">
              æäº¤
            </Button>
          </div>
        </form-item-engine>
      </i-col>
      <i-col class="border left" span="8">
        <Input type="textarea" :rows="35" v-model="configShow" />
      </i-col>
      <i-col class="border" span="8"> </i-col>
    </Row>
  </div>
</template>
<script>
import FormItemEngine from "./form-engine";
export default {
  components: {
    FormItemEngine
  },
  watch: {
    config: {
      deep: true,
      immediate: true,
      handler(value) {
        debugger;
        console.log(value);
      }
    }
  },
  computed: {
    configShow: function() {
      debugger;
      return JSON.stringify(this.config, null, 4);
    }
  },
  data() {
    return {
      formValues: {
        name: "",
        city: 1,
        fruit: [],
        article: "",
        animal: ""
      },
      rules: {
        name: [
          {
            required: true,
            message: "å§“åä¸èƒ½ä¸ºç©º",
            trigger: "blur"
          }
        ],
        city: [
          {
            required: true,
            message: "åŸå¸‚ä¸èƒ½ä¸ºç©º",
            trigger: "change"
          }
        ]
      },
      config: [
        {
          key: "name",
          label: "å§“å",
          prop: "name",
          component: {
            $type: "Input",
            value: 1,
            attrs: {},
            on: {},
            props: {
              placeholder: "è¯·è¾“å…¥å§“å"
            }
          }
        },
        {
          key: "city",
          label: "åŸå¸‚",
          prop: "city",
          component: {
            $type: "Select",
            props: {
              placeholder: "è¯·é€‰æ‹©åŸå¸‚",
              clearable: true,
              filterable: true
            },
            items: [
              {
                value: 1,
                label: "æµ‹è¯•1"
              },
              {
                value: 2,
                label: "æµ‹è¯•2"
              },
              {
                value: 3,
                label: "æµ‹è¯•3"
              },
              {
                value: 4,
                label: "æµ‹è¯•4"
              },
              {
                value: 5,
                label: "æµ‹è¯•5"
              }
            ]
          }
        },
        {
          key: "fruit",
          label: "ç§ç±»",
          prop: "fruit",
          component: {
            $type: "CheckboxGroup",
            props: {},
            items: [
              {
                label: "ğŸ"
              },
              {
                label: "ğŸŒ"
              },
              {
                label: "ğŸ‘"
              },
              {
                label: "ğŸ’"
              },
              {
                label: "ğŸ"
              },
              {
                label: "ğŸ‰"
              },
              {
                label: "ğŸŠ"
              }
            ]
          }
        },
        {
          key: "article",
          label: "æ–‡ç« ",
          prop: "article",
          component: {
            $type: "Input",
            value: 1,
            attrs: {},
            on: {},
            props: {
              type: "textarea",
              placeholder: "è¯·å¡«å†™æ–‡ç« "
            }
          }
        },
        {
          key: "animal",
          label: "åŠ¨ç‰©",
          prop: "animal",
          component: {
            $type: "RadioGroup",
            props: {},
            items: [
              {
                label: "è€è™ğŸ¯"
              },
              {
                label: "å¤§è±¡ğŸ˜"
              },
              {
                label: "è›‡ğŸ"
              }
            ]
          }
        }
      ]
    };
  },
  methods: {}
};
</script>

<style scoped>
.wrapper {
  margin: 40px;
  margin-top: 80px;
}
.border {
  border: 1px solid #dcdee2;
  height: 80vh;
  padding: 20px;
}
.left {
  border-right: none;
}
</style>
